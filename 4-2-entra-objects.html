<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Entra ID Objects - Ultimate IAM Security Guide</title>
  <link rel="stylesheet" href="main.css">
</head>
<body>
  <div class="page-wrapper">
    <!-- Mobile Menu Toggle -->
    <button class="mobile-menu-toggle" aria-label="Toggle navigation">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <line x1="3" y1="6" x2="21" y2="6"></line>
        <line x1="3" y1="12" x2="21" y2="12"></line>
        <line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
    </button>
    <nav class="sidebar">
      <div class="sidebar-header">
        <a href="index.html" class="sidebar-logo">
          <div class="sidebar-logo-icon">ğŸ”</div>
          <div class="sidebar-logo-text">IAM <span>Guide</span></div>
        </a>
      </div>
    </nav>
    <main class="main-content">
      <div class="content-wrapper">
        <article class="content-main">
          <div class="badge badge-l2">L2 Technical</div>
          <h1>Entra ID Objects</h1>
          
          <div class="overview-box">
            <h3>ğŸ¯ What This Page Covers</h3>
            <p>Entra ID contains various object types: users, groups, applications, service principals, and devices. Understanding these is essential for managing identity in Microsoft environments.</p>
          </div>

          <h2 id="object-types">Object Types Overview</h2>

          <div class="table-wrapper">
            <table>
              <thead><tr><th>Object Type</th><th>Purpose</th><th>Example</th></tr></thead>
              <tbody>
                <tr>
                  <td><strong>User</strong></td>
                  <td>Human identity or service account</td>
                  <td>sarah@company.com</td>
                </tr>
                <tr>
                  <td><strong>Group</strong></td>
                  <td>Collection of users/devices for access management</td>
                  <td>Finance-Team, All-Employees</td>
                </tr>
                <tr>
                  <td><strong>Application Registration</strong></td>
                  <td>Definition of an app (blueprint)</td>
                  <td>MyCustomApp registration</td>
                </tr>
                <tr>
                  <td><strong>Service Principal</strong></td>
                  <td>Instance of app in a tenant (runtime identity)</td>
                  <td>MyCustomApp SP in Tenant A</td>
                </tr>
                <tr>
                  <td><strong>Managed Identity</strong></td>
                  <td>Auto-managed identity for Azure resources</td>
                  <td>VM's managed identity</td>
                </tr>
                <tr>
                  <td><strong>Device</strong></td>
                  <td>Registered/joined computers and mobile devices</td>
                  <td>LAPTOP-ABC123</td>
                </tr>
              </tbody>
            </table>
          </div>

          <h2 id="users">Users</h2>

          <div class="code-block">
            <div class="code-header"><span class="code-language">PowerShell - User Management</span></div>
            <pre><code># Connect to Microsoft Graph
Connect-MgGraph -Scopes "User.ReadWrite.All"

# Get user details
Get-MgUser -UserId "sarah@company.com" | Select DisplayName, UserPrincipalName, Id, AccountEnabled

# Create cloud-only user
New-MgUser -DisplayName "John Smith" `
  -UserPrincipalName "jsmith@company.com" `
  -MailNickname "jsmith" `
  -AccountEnabled:$true `
  -PasswordProfile @{Password="TempP@ss123!"; ForceChangePasswordNextSignIn=$true}

# User types:
# - Member: Full tenant member (employees)
# - Guest: External user (B2B collaboration)</code></pre>
          </div>

          <h2 id="groups">Groups</h2>

          <div class="table-wrapper">
            <table>
              <thead><tr><th>Group Type</th><th>Membership</th><th>Use Case</th></tr></thead>
              <tbody>
                <tr>
                  <td><strong>Security (Assigned)</strong></td>
                  <td>Manually add/remove members</td>
                  <td>Application access, resource permissions</td>
                </tr>
                <tr>
                  <td><strong>Security (Dynamic)</strong></td>
                  <td>Auto-populated by query rules</td>
                  <td>"All users in Finance department"</td>
                </tr>
                <tr>
                  <td><strong>Microsoft 365</strong></td>
                  <td>Assigned or dynamic</td>
                  <td>Teams, SharePoint, shared mailbox</td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="code-block">
            <div class="code-header"><span class="code-language">Dynamic Group Rule Example</span></div>
            <pre><code># All users in Finance department
(user.department -eq "Finance")

# All full-time employees (not guests)
(user.userType -eq "Member")

# Users with specific job title
(user.jobTitle -eq "Software Engineer")

# Combination with AND/OR
(user.department -eq "IT") and (user.jobTitle -contains "Admin")</code></pre>
          </div>

          <h2 id="apps-sp">App Registrations vs Service Principals</h2>

          <div class="flow-diagram">
            <pre>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    APP REGISTRATION vs SERVICE PRINCIPAL                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                          â”‚
â”‚   APP REGISTRATION (Blueprint)              SERVICE PRINCIPAL (Instance)                â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚   â”‚ â€¢ Global definition         â”‚          â”‚ â€¢ Per-tenant instance       â”‚             â”‚
â”‚   â”‚ â€¢ Created once              â”‚   â”€â”€â”€â”€â–º  â”‚ â€¢ Created when app is used  â”‚             â”‚
â”‚   â”‚ â€¢ Defines permissions       â”‚          â”‚ â€¢ Holds consented permissionsâ”‚            â”‚
â”‚   â”‚ â€¢ Has App ID (client_id)    â”‚          â”‚ â€¢ Has Object ID             â”‚             â”‚
â”‚   â”‚ â€¢ Lives in home tenant      â”‚          â”‚ â€¢ Lives in each tenant      â”‚             â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                                                          â”‚
â”‚   EXAMPLE: Salesforce                                                                   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                       â”‚
â”‚   â”‚ App Registration            â”‚                                                       â”‚
â”‚   â”‚ (in Salesforce's tenant)    â”‚                                                       â”‚
â”‚   â”‚ App ID: abc-123             â”‚                                                       â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                       â”‚
â”‚                  â”‚ Creates Service Principal in each tenant that uses Salesforce        â”‚
â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                       â”‚
â”‚       â–¼                     â–¼                   â–¼                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚
â”‚   â”‚ SP in   â”‚          â”‚ SP in   â”‚         â”‚ SP in   â”‚                                 â”‚
â”‚   â”‚Tenant A â”‚          â”‚Tenant B â”‚         â”‚Tenant C â”‚                                 â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â”‚
â”‚                                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            </pre>
          </div>

          <h2 id="managed-identity">Managed Identities</h2>

          <div class="table-wrapper">
            <table>
              <thead><tr><th>Type</th><th>Lifecycle</th><th>Use Case</th></tr></thead>
              <tbody>
                <tr>
                  <td><strong>System-Assigned</strong></td>
                  <td>Created/deleted with the resource</td>
                  <td>Single resource needs identity (VM, App Service)</td>
                </tr>
                <tr>
                  <td><strong>User-Assigned</strong></td>
                  <td>Created independently, assigned to resources</td>
                  <td>Multiple resources share identity, or survives resource deletion</td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="code-block">
            <div class="code-header"><span class="code-language">Using Managed Identity</span></div>
            <pre><code># No credentials needed! Azure handles token acquisition
# VM with system-assigned managed identity accessing Key Vault

from azure.identity import DefaultAzureCredential
from azure.keyvault.secrets import SecretClient

# DefaultAzureCredential automatically uses managed identity when on Azure
credential = DefaultAzureCredential()
client = SecretClient(vault_url="https://myvault.vault.azure.net", credential=credential)

secret = client.get_secret("my-secret")
print(secret.value)</code></pre>
          </div>

          <h2 id="interview-tips">Interview Tips</h2>
          <div class="callout interview">
            <div class="callout-content">
              <div class="callout-title">ğŸ’¡ Key Interview Points</div>
              <ul>
                <li><strong>App Reg vs SP:</strong> App Reg is blueprint, SP is instance in each tenant</li>
                <li><strong>Group types:</strong> Security (access), M365 (collaboration), Dynamic (auto)</li>
                <li><strong>Managed Identity:</strong> No credentials to manage, Azure handles tokens</li>
                <li><strong>User types:</strong> Member (internal), Guest (B2B external)</li>
                <li><strong>Dynamic groups:</strong> Require Entra ID P1, auto-populate based on rules</li>
              </ul>
            </div>
          </div>

          <nav class="page-nav">
            <a href="4-1-entra-overview.html" class="page-nav-link prev">
              <span class="page-nav-label">â† Previous</span>
              <span class="page-nav-title">Entra ID Overview</span>
            </a>
            <a href="4-3-conditional-access.html" class="page-nav-link next">
              <span class="page-nav-label">Next â†’</span>
              <span class="page-nav-title">Conditional Access</span>
            </a>
          </nav>
        </article>
      </div>
    </main>
  </div>
  <script src="main.js"></script>
</body>
</html>

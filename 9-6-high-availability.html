<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>High Availability - Ultimate IAM Security Guide</title>
  <link rel="stylesheet" href="main.css">
</head>
<body>
  <div class="page-wrapper">
    <!-- Mobile Menu Toggle -->
    <button class="mobile-menu-toggle" aria-label="Toggle navigation">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <line x1="3" y1="6" x2="21" y2="6"></line>
        <line x1="3" y1="12" x2="21" y2="12"></line>
        <line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
    </button>
    <nav class="sidebar">
      <div class="sidebar-header">
        <a href="index.html" class="sidebar-logo">
          <div class="sidebar-logo-icon">ğŸ”</div>
          <div class="sidebar-logo-text">IAM <span>Guide</span></div>
        </a>
      </div>
      <!-- Navigation generated by JavaScript -->
    </nav>
    <main class="main-content">
      <div class="content-wrapper">
        <article class="content-main">
          <div class="badge badge-l3">L3 Expert</div>
          <h1>High Availability</h1>
          
          <div class="overview-box">
            <h3>ğŸ¯ What This Page Covers</h3>
            <p>Identity infrastructure is critical - if users can't authenticate, business stops. This covers HA patterns for IdP, disaster recovery, multi-region deployments, and break-glass procedures.</p>
          </div>

          <h2 id="why-ha">Why HA Matters for Identity</h2>
          <div class="flow-diagram"><pre>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    IDENTITY IS THE CRITICAL PATH                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                          â”‚
â”‚   IF IDP IS DOWN:                                                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚ âŒ Users can't log into ANY application                                          â”‚  â”‚
â”‚   â”‚ âŒ No email, no Teams, no Slack                                                  â”‚  â”‚
â”‚   â”‚ âŒ No cloud console access (AWS, Azure, GCP)                                     â”‚  â”‚
â”‚   â”‚ âŒ No VPN access for remote workers                                              â”‚  â”‚
â”‚   â”‚ âŒ Business operations halt                                                       â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                          â”‚
â”‚   TYPICAL SLA REQUIREMENTS:                                                             â”‚
â”‚   â€¢ IdP uptime: 99.9% (8.76 hours downtime/year)                                       â”‚
â”‚   â€¢ Authentication latency: < 500ms p99                                                â”‚
â”‚   â€¢ RTO (Recovery Time Objective): < 1 hour                                            â”‚
â”‚   â€¢ RPO (Recovery Point Objective): < 15 minutes                                       â”‚
â”‚                                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</pre></div>

          <h2 id="cloud-idp-ha">Cloud IdP High Availability</h2>
          <div class="table-wrapper"><table>
            <thead><tr><th>IdP</th><th>HA Model</th><th>SLA</th><th>Your Responsibility</th></tr></thead>
            <tbody>
              <tr><td><strong>Entra ID</strong></td><td>Global, multi-region</td><td>99.99%</td><td>Break-glass accounts, monitoring</td></tr>
              <tr><td><strong>Okta</strong></td><td>Multi-cell architecture</td><td>99.99%</td><td>Break-glass, status monitoring</td></tr>
              <tr><td><strong>ADFS (on-prem)</strong></td><td>Farm with load balancer</td><td>Your SLA</td><td>Everything (infra, patching, DR)</td></tr>
              <tr><td><strong>Ping (on-prem)</strong></td><td>Clustered</td><td>Your SLA</td><td>Everything</td></tr>
            </tbody>
          </table></div>

          <h2 id="break-glass">Break-Glass Accounts</h2>
          <div class="code-block"><div class="code-header"><span class="code-language">Break-Glass Setup</span></div><pre><code># BREAK-GLASS = Emergency admin access when IdP fails

REQUIREMENTS:
â”œâ”€â”€ Cloud-only account (not synced from AD)
â”œâ”€â”€ NOT federated (can login even if federation broken)
â”œâ”€â”€ Strong password stored in physical safe
â”œâ”€â”€ No MFA or hardware MFA (not phone-based)
â”œâ”€â”€ Global Administrator role
â”œâ”€â”€ Excluded from ALL Conditional Access policies

# ENTRA ID BREAK-GLASS SETUP
1. Create cloud-only account: breakglass1@tenant.onmicrosoft.com
2. Assign Global Administrator role
3. Set complex password (20+ chars, random)
4. Store password in:
   â”œâ”€â”€ Physical safe (split knowledge - 2 people)
   â”œâ”€â”€ OR hardware security module
   â””â”€â”€ NOT in password manager (might be inaccessible)
5. Exclude from Conditional Access
6. Create second break-glass account (different safe)

# TESTING (Monthly)
1. Attempt sign-in with break-glass account
2. Verify access works
3. Review audit log for the sign-in
4. Document test results

# MONITORING
Alert if break-glass account signs in (should only be emergencies)</code></pre></div>

          <h2 id="dr-patterns">Disaster Recovery Patterns</h2>
          <div class="table-wrapper"><table>
            <thead><tr><th>Scenario</th><th>Impact</th><th>Response</th></tr></thead>
            <tbody>
              <tr><td><strong>Cloud IdP outage</strong></td><td>All SSO apps inaccessible</td><td>Use break-glass, wait for provider</td></tr>
              <tr><td><strong>Azure AD Connect fails</strong></td><td>No sync, but auth works</td><td>Users use cached passwords/PHS</td></tr>
              <tr><td><strong>ADFS farm down</strong></td><td>Federated auth fails</td><td>Switch to PHS/staged rollout</td></tr>
              <tr><td><strong>Region outage</strong></td><td>Latency or partial outage</td><td>Cloud IdP auto-fails over</td></tr>
              <tr><td><strong>Certificate expired</strong></td><td>SSO fails for apps</td><td>Rotate certificate immediately</td></tr>
            </tbody>
          </table></div>

          <h2 id="day-to-day">ğŸ”§ Security Engineer Day-to-Day Tasks</h2>
          <div class="callout tip"><div class="callout-content"><div class="callout-title">ğŸ‘¨â€ğŸ’» What You Actually Do</div>
            
            <p><strong>Proactive Monitoring:</strong></p>
            <ul>
              <li>Monitor IdP health dashboard (status.okta.com, status.azure.com)</li>
              <li>Set up alerts for authentication failures spike</li>
              <li>Track certificate expiration dates</li>
              <li>Monitor Azure AD Connect sync status</li>
            </ul>

            <p><strong>Regular Testing:</strong></p>
            <ul>
              <li>Monthly break-glass account test</li>
              <li>Quarterly DR tabletop exercise</li>
              <li>Test runbooks are current</li>
              <li>Verify monitoring/alerting works</li>
            </ul>

            <p><strong>During Outage:</strong></p>
            <ul>
              <li>Confirm outage scope (IdP status page, Twitter)</li>
              <li>Communicate to stakeholders</li>
              <li>Use break-glass if admin access needed</li>
              <li>Document timeline for post-incident</li>
            </ul>
          </div></div>

          <h2 id="interview-tips">Interview Tips</h2>
          <div class="callout interview"><div class="callout-content"><div class="callout-title">ğŸ’¡ Key Interview Points</div>
            <ul>
              <li><strong>IdP is critical path:</strong> If auth is down, everything is down</li>
              <li><strong>Break-glass:</strong> Cloud-only, no MFA, excluded from CA, tested monthly</li>
              <li><strong>Cloud IdP HA:</strong> Provider handles (Okta/Entra = 99.99%)</li>
              <li><strong>On-prem IdP:</strong> You handle HA (ADFS farm, load balancer)</li>
              <li><strong>Monitor:</strong> Status pages, sync health, cert expiry</li>
            </ul>
          </div></div>

          <nav class="page-nav">
            <a href="9-5-api-security.html" class="page-nav-link prev"><span class="page-nav-label">â† Previous</span><span class="page-nav-title">API Security</span></a>
            <a href="10-1-migration-planning.html" class="page-nav-link next"><span class="page-nav-label">Next â†’</span><span class="page-nav-title">Migration Planning</span></a>
          </nav>
        </article>
      </div>
    </main>
  </div>
  <script src="main.js"></script>
</body>
</html>

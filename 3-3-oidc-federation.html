<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>OIDC Federation - Ultimate IAM Security Guide</title>
  <link rel="stylesheet" href="main.css">
</head>
<body>
  <div class="page-wrapper">
    <!-- Mobile Menu Toggle -->
    <button class="mobile-menu-toggle" aria-label="Toggle navigation">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <line x1="3" y1="6" x2="21" y2="6"></line>
        <line x1="3" y1="12" x2="21" y2="12"></line>
        <line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
    </button>
    <nav class="sidebar">
      <div class="sidebar-header">
        <a href="index.html" class="sidebar-logo">
          <div class="sidebar-logo-icon">üîê</div>
          <div class="sidebar-logo-text">IAM <span>Guide</span></div>
        </a>
      </div>
      <!-- Navigation generated by JavaScript -->
    </nav>
    <main class="main-content">
      <div class="content-wrapper">
        <article class="content-main">
          <div class="badge badge-l2">L2 Technical</div>
          <h1>OIDC Federation</h1>
          
          <div class="overview-box">
            <h3>üéØ What This Page Covers</h3>
            <p>OIDC-based federation for modern applications and workloads including discovery, token validation, and workload identity federation.</p>
          </div>

          <h2 id="oidc-vs-saml">OIDC vs SAML for Federation</h2>
          <div class="table-wrapper"><table>
            <thead><tr><th>Aspect</th><th>SAML</th><th>OIDC</th></tr></thead>
            <tbody>
              <tr><td><strong>Format</strong></td><td>XML</td><td>JSON/JWT</td></tr>
              <tr><td><strong>Best For</strong></td><td>Enterprise SSO</td><td>Modern apps, APIs, mobile</td></tr>
              <tr><td><strong>Token Type</strong></td><td>Assertion</td><td>ID Token + Access Token</td></tr>
              <tr><td><strong>Discovery</strong></td><td>Metadata URL</td><td>.well-known/openid-configuration</td></tr>
            </tbody>
          </table></div>

          <h2 id="discovery">OIDC Discovery</h2>
          <div class="code-block"><div class="code-header"><span class="code-language">Discovery Document</span></div><pre><code># GET https://login.microsoftonline.com/{tenant}/v2.0/.well-known/openid-configuration
{
  "issuer": "https://login.microsoftonline.com/{tenant}/v2.0",
  "authorization_endpoint": "https://login.microsoftonline.com/{tenant}/oauth2/v2.0/authorize",
  "token_endpoint": "https://login.microsoftonline.com/{tenant}/oauth2/v2.0/token",
  "jwks_uri": "https://login.microsoftonline.com/{tenant}/discovery/v2.0/keys",
  "userinfo_endpoint": "https://graph.microsoft.com/oidc/userinfo",
  "id_token_signing_alg_values_supported": ["RS256"]
}

# VALIDATION USING DISCOVERY:
1. Fetch discovery document
2. Get JWKS from jwks_uri
3. Validate token signature with public keys
4. Verify issuer, audience, expiry</code></pre></div>

          <h2 id="workload-identity">Workload Identity Federation</h2>
          <div class="code-block"><div class="code-header"><span class="code-language">GitHub Actions ‚Üí Azure</span></div><pre><code># GITHUB OIDC TOKEN ‚Üí AZURE ACCESS TOKEN
# No secrets stored in GitHub!

1. GitHub Actions issues OIDC token:
   {
     "iss": "https://token.actions.githubusercontent.com",
     "sub": "repo:org/repo:ref:refs/heads/main",
     "aud": "api://AzureADTokenExchange"
   }

2. Azure validates:
   - Issuer is GitHub
   - Subject matches configured repo/branch
   - Audience is correct

3. Azure issues access token for configured identity</code></pre></div>

          <h2 id="interview-tips">Interview Tips</h2>
          <div class="callout interview"><div class="callout-content"><div class="callout-title">üí° Key Interview Points</div>
            <ul>
              <li><strong>OIDC for modern:</strong> JSON-based, better for APIs and mobile</li>
              <li><strong>Discovery:</strong> .well-known/openid-configuration for auto-config</li>
              <li><strong>Workload federation:</strong> External OIDC tokens for cloud access</li>
              <li><strong>No secrets:</strong> CI/CD without stored credentials</li>
            </ul>
          </div></div>

          <nav class="page-nav">
            <a href="3-2-saml-federation.html" class="page-nav-link prev"><span class="page-nav-label">‚Üê Previous</span><span class="page-nav-title">SAML Federation</span></a>
            <a href="3-4-ws-federation-legacy.html" class="page-nav-link next"><span class="page-nav-label">Next ‚Üí</span><span class="page-nav-title">WS-Federation</span></a>
          </nav>
        </article>
      </div>
    </main>
  </div>
  <script src="main.js"></script>
</body>
</html>

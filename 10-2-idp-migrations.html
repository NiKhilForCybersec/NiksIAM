<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>IdP Migrations - Ultimate IAM Security Guide</title>
  <link rel="stylesheet" href="main.css">
</head>
<body>
  <div class="page-wrapper">
    <!-- Mobile Menu Toggle -->
    <button class="mobile-menu-toggle" aria-label="Toggle navigation">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <line x1="3" y1="6" x2="21" y2="6"></line>
        <line x1="3" y1="12" x2="21" y2="12"></line>
        <line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
    </button>
    <nav class="sidebar">
      <div class="sidebar-header">
        <a href="index.html" class="sidebar-logo">
          <div class="sidebar-logo-icon">ğŸ”</div>
          <div class="sidebar-logo-text">IAM <span>Guide</span></div>
        </a>
      </div>
      <!-- Navigation generated by JavaScript -->
    </nav>
    <main class="main-content">
      <div class="content-wrapper">
        <article class="content-main">
          <div class="badge badge-l3">L3 Expert</div>
          <h1>IdP Migrations</h1>
          
          <div class="overview-box">
            <h3>ğŸ¯ What This Page Covers</h3>
            <p>Migrating identity providers (ADFS to Entra, Okta to Entra, on-prem to cloud) is complex. This covers migration patterns, staged approaches, and common pitfalls.</p>
          </div>

          <h2 id="common-migrations">Common Migration Scenarios</h2>
          <div class="table-wrapper"><table>
            <thead><tr><th>From</th><th>To</th><th>Complexity</th><th>Key Challenge</th></tr></thead>
            <tbody>
              <tr><td><strong>ADFS</strong></td><td>Entra ID</td><td>Medium</td><td>Claims rules translation, app compatibility</td></tr>
              <tr><td><strong>Okta</strong></td><td>Entra ID</td><td>High</td><td>Policy migration, user provisioning</td></tr>
              <tr><td><strong>Ping</strong></td><td>Okta</td><td>High</td><td>Federation config, MFA re-enrollment</td></tr>
              <tr><td><strong>On-prem AD only</strong></td><td>Hybrid + Entra</td><td>Medium</td><td>Azure AD Connect setup, staged rollout</td></tr>
            </tbody>
          </table></div>

          <h2 id="adfs-migration">ADFS to Entra ID Migration</h2>
          <div class="flow-diagram"><pre>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ADFS TO ENTRA ID MIGRATION PHASES                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                          â”‚
â”‚   PHASE 1: ASSESS          PHASE 2: MIGRATE         PHASE 3: CUTOVER                   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚   â”‚ â€¢ Run ADFS App  â”‚     â”‚ â€¢ Configure appsâ”‚      â”‚ â€¢ Change DNS    â”‚                 â”‚
â”‚   â”‚   Migration Toolâ”‚â”€â”€â”€â”€â–ºâ”‚   in Entra ID   â”‚â”€â”€â”€â”€â”€â–ºâ”‚ â€¢ Disable ADFS  â”‚                 â”‚
â”‚   â”‚ â€¢ Identify apps â”‚     â”‚ â€¢ Staged rolloutâ”‚      â”‚   federation    â”‚                 â”‚
â”‚   â”‚ â€¢ Map claims    â”‚     â”‚ â€¢ Test with     â”‚      â”‚ â€¢ Decommission  â”‚                 â”‚
â”‚   â”‚ â€¢ Check compat  â”‚     â”‚   pilot users   â”‚      â”‚   ADFS servers  â”‚                 â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                                                                                          â”‚
â”‚   TOOLS:                                                                                â”‚
â”‚   â€¢ AD FS Application Migration Tool (Microsoft)                                        â”‚
â”‚   â€¢ Entra ID â†’ Enterprise Applications â†’ ADFS Migration                                 â”‚
â”‚   â€¢ Claims X-Ray for testing                                                            â”‚
â”‚                                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</pre></div>

          <h2 id="staged-rollout">Staged Rollout</h2>
          <div class="code-block"><div class="code-header"><span class="code-language">Staged Rollout Configuration</span></div><pre><code># Entra ID supports staged rollout - some users authenticate 
# via cloud while others continue using ADFS

# Enable in Entra ID:
Entra ID â†’ Hybrid Management â†’ Azure AD Connect â†’ Staged Rollout

Features to enable:
â”œâ”€â”€ Password Hash Sync authentication
â”œâ”€â”€ Seamless SSO  
â””â”€â”€ (Optional) Pass-through Authentication

# Assign pilot groups
# Users in these groups will authenticate via cloud
# Others continue with ADFS

# Monitor:
# - Sign-in logs for errors
# - User feedback
# - Application compatibility

# Gradually expand groups until 100% migrated</code></pre></div>

          <h2 id="mfa-migration">MFA Re-enrollment</h2>
          <div class="callout warning"><div class="callout-content"><div class="callout-title">âš ï¸ MFA is the Hardest Part</div>
            <ul>
              <li>MFA methods typically don't migrate between IdPs</li>
              <li>Users must re-enroll in new IdP's MFA</li>
              <li>Options: Combined registration, TAP (Temporary Access Pass), grace period</li>
              <li>Plan for help desk surge during migration</li>
            </ul>
          </div></div>

          <h2 id="interview-tips">Interview Tips</h2>
          <div class="callout interview"><div class="callout-content"><div class="callout-title">ğŸ’¡ Key Interview Points</div>
            <ul>
              <li><strong>Staged rollout:</strong> Microsoft feature to migrate users gradually from ADFS</li>
              <li><strong>Claims mapping:</strong> ADFS claims rules must be translated to Entra</li>
              <li><strong>MFA:</strong> Usually requires re-enrollment, biggest user impact</li>
              <li><strong>Coexistence:</strong> Run both systems in parallel during migration</li>
              <li><strong>Rollback plan:</strong> Always have a way to revert if issues</li>
            </ul>
          </div></div>

          <nav class="page-nav">
            <a href="10-1-migration-planning.html" class="page-nav-link prev"><span class="page-nav-label">â† Previous</span><span class="page-nav-title">Migration Planning</span></a>
            <a href="10-3-legacy-modernization.html" class="page-nav-link next"><span class="page-nav-label">Next â†’</span><span class="page-nav-title">Legacy Modernization</span></a>
          </nav>
        </article>
      </div>
    </main>
  </div>
  <script src="main.js"></script>
</body>
</html>

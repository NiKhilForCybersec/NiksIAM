<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CLI & API Reference - Ultimate IAM Security Guide</title>
  <link rel="stylesheet" href="main.css">
</head>
<body>
  <div class="page-wrapper">
    <!-- Mobile Menu Toggle -->
    <button class="mobile-menu-toggle" aria-label="Toggle navigation">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <line x1="3" y1="6" x2="21" y2="6"></line>
        <line x1="3" y1="12" x2="21" y2="12"></line>
        <line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
    </button>
    <nav class="sidebar">
      <div class="sidebar-header">
        <a href="index.html" class="sidebar-logo">
          <div class="sidebar-logo-icon">üîê</div>
          <div class="sidebar-logo-text">IAM <span>Guide</span></div>
        </a>
      </div>
    </nav>
    <main class="main-content">
      <div class="content-wrapper">
        <article class="content-main">
          <div class="badge badge-l2">L2 Technical</div>
          <h1>CLI & API Quick Reference</h1>
          
          <div class="overview-box">
            <h3>üéØ Quick Reference</h3>
            <p>Common CLI commands and API calls for IAM administration across platforms.</p>
          </div>

          <h2 id="powershell">Microsoft Graph PowerShell</h2>
          <div class="code-block">
            <div class="code-header"><span class="code-language">PowerShell</span></div>
            <pre><code># Connect
Connect-MgGraph -Scopes "User.ReadWrite.All","Group.ReadWrite.All"

# Users
Get-MgUser -UserId "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="4c393f293e0c2823212d2522622f2321">[email&#160;protected]</a>"
Get-MgUser -Filter "department eq 'Finance'"
New-MgUser -DisplayName "John" -UserPrincipalName "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="1b717473755b7f74767a727535787476">[email&#160;protected]</a>" -MailNickname "john" -AccountEnabled -PasswordProfile @{Password="P@ss"}

# Groups
Get-MgGroup -Filter "displayName eq 'Finance-Team'"
New-MgGroupMember -GroupId $groupId -DirectoryObjectId $userId
Get-MgGroupMember -GroupId $groupId

# Sign-in Logs
Get-MgAuditLogSignIn -Filter "userId eq 'user-id'" -Top 10</code></pre>
          </div>

          <h2 id="azure-cli">Azure CLI (az)</h2>
          <div class="code-block">
            <div class="code-header"><span class="code-language">Bash</span></div>
            <pre><code># Login
az login

# RBAC
az role assignment list --assignee "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="314442544371555e5c50585f1f525e5c">[email&#160;protected]</a>"
az role assignment create --assignee "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="087d7b6d7a486c6765696166266b6765">[email&#160;protected]</a>" --role "Contributor" --resource-group "my-rg"
az role definition list --query "[].roleName"

# Entra ID
az ad user list --filter "department eq 'Finance'"
az ad user create --display-name "John" --user-principal-name "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="c3a9acabad83a7acaea2aaadeda0acae">[email&#160;protected]</a>" --password "P@ss"
az ad group member add --group "Finance-Team" --member-id "user-object-id"</code></pre>
          </div>

          <h2 id="aws-cli">AWS CLI</h2>
          <div class="code-block">
            <div class="code-header"><span class="code-language">Bash</span></div>
            <pre><code># IAM Users
aws iam list-users
aws iam get-user --user-name john
aws iam create-user --user-name john
aws iam delete-user --user-name john

# IAM Roles
aws iam list-roles
aws iam get-role --role-name MyRole
aws sts assume-role --role-arn "arn:aws:iam::123456789:role/MyRole" --role-session-name "session1"

# Identity Center (SSO)
aws sso-admin list-permission-sets --instance-arn "arn:aws:sso:::instance/..."
aws identitystore list-users --identity-store-id "d-1234567890"

# Who am I?
aws sts get-caller-identity</code></pre>
          </div>

          <h2 id="gcloud">Google Cloud CLI (gcloud)</h2>
          <div class="code-block">
            <div class="code-header"><span class="code-language">Bash</span></div>
            <pre><code># Auth
gcloud auth login
gcloud auth list

# IAM Policy
gcloud projects get-iam-policy PROJECT_ID
gcloud projects add-iam-policy-binding PROJECT_ID --member="user:<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="9ef4f1f6f0defdf1f3eefff0e7b0fdf1f3">[email&#160;protected]</a>" --role="roles/viewer"

# Service Accounts
gcloud iam service-accounts list
gcloud iam service-accounts create my-sa --display-name="My Service Account"
gcloud iam service-accounts keys create key.json <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="fbd6d6929a96d69a9898948e958fc69682d6889abb8b8994919e988fd5929a96d59c889e898d92989e9a9898948e958fd5989496">[email&#160;protected]</a></code></pre>
          </div>

          <h2 id="okta-api">Okta API</h2>
          <div class="code-block">
            <div class="code-header"><span class="code-language">Bash (curl)</span></div>
            <pre><code># List Users
curl -X GET "https://your-org.okta.com/api/v1/users" \
  -H "Authorization: SSWS ${API_TOKEN}"

# Get User
curl -X GET "https://your-org.okta.com/api/v1/users/<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="b2d8dddadcf2d1dddfc2d3dccb9cd1dddf">[email&#160;protected]</a>" \
  -H "Authorization: SSWS ${API_TOKEN}"

# Create User
curl -X POST "https://your-org.okta.com/api/v1/users?activate=true" \
  -H "Authorization: SSWS ${API_TOKEN}" \
  -H "Content-Type: application/json" \
  -d '{"profile":{"firstName":"John","lastName":"Doe","email":"<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="b0dadfd8def0d3dfddc0d1dec99ed3dfdd">[email&#160;protected]</a>","login":"<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="4a202522240a2925273a2b243364292527">[email&#160;protected]</a>"}}'

# Suspend User
curl -X POST "https://your-org.okta.com/api/v1/users/{userId}/lifecycle/suspend" \
  -H "Authorization: SSWS ${API_TOKEN}"</code></pre>
          </div>

          <h2 id="ad-powershell">Active Directory PowerShell</h2>
          <div class="code-block">
            <div class="code-header"><span class="code-language">PowerShell</span></div>
            <pre><code># Users
Get-ADUser -Identity jsmith -Properties *
Get-ADUser -Filter {Department -eq "Finance"}
New-ADUser -Name "John Smith" -SamAccountName "jsmith" -Enabled $true
Set-ADAccountPassword -Identity jsmith -Reset -NewPassword (ConvertTo-SecureString "P@ssword" -AsPlainText -Force)
Unlock-ADAccount -Identity jsmith

# Groups
Get-ADGroupMember -Identity "Finance-Team"
Add-ADGroupMember -Identity "Finance-Team" -Members jsmith
Get-ADPrincipalGroupMembership -Identity jsmith

# Account Status
Search-ADAccount -LockedOut
Se          </nav>
        </article>
      </div>
    </main>
  </div>
  <script src="main.js"></script>
</body>
</html>
